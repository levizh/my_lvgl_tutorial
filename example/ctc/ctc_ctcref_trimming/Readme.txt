================================================================================
                                样例使用说明
================================================================================
版本历史
日期        版本    负责人         IAR     MDK   描述
2019-07-04  1.0     Hongjh         7.70    5.16  first version
================================================================================
功能描述
================================================================================
本样例主要展示CTC通过CTCREF校准内部高速振荡器HRC。

说明：
1、首先设置CTC_CR1 TRMVAL为0x21，使内部高速时钟频率在48±0.24MHz范围外
2、然后输入CTCREF引脚20MHz时钟，通过CTCREF校准内部高速时钟48MHz，校准偏差为0.5%，
   目标频率为48±0.24MHz范围内

================================================================================
测试环境
================================================================================
测试用板:
---------------------
EV_HC32F4A0_LQPF176_050_V10

辅助工具:
---------------------
无

辅助软件:
---------------------
串口助手

================================================================================
使用步骤
================================================================================
1）准备两个测试板
   测试板A：用于展示校准内部高速时钟
   测试板B：输出XTAL时钟，作为测试板A CTCREF时钟源
2）连接DAP模块J9,J10
3）按照如下方式，连接两个测试板引脚(J6_P15: J6表示接插件丝印，P15表示信号丝印;其
   他表示与此相同)
   测试板A          测试板B
   J3_P62  <----->  J6_P15
   ISP_GND <----->  ISP_GND
4）测试板A J6_P15与示波器相连
5）按照如下，修改main.c文件宏定义
   #define PROJCET_FUNCTION                FUNCTION_GENERATE_CTCREF_CLK
6）重新编译，下载代码至测试板B
7）按照如下，修改main.c文件
   #define PROJCET_FUNCTION                FUNCTION_TRIMMING_HRC_CLK
8）按照如下，修改文件hc32f4a0_icg.h
   #if ICG0_HRC_HARDWARE_START == ICG_FUNCTION_ON
       #define ICG0_HRC_REG_CONFIG                 ((uint32_t)ICG0_HRC_REQS)
   #else
       #define ICG0_HRC_REG_CONFIG                 ((uint32_t)ICG_HRC_FREQ_48MHZ)
   #endif
9）重新编译，下载代码至测试板A
10）打开串口助手软件，配置端口如下参数
     波特率：115200
     数据位：8
     校验位：None
     停止位：1
11）观察示波器，查看波形频率为48±0.24MHz范围外
12）按测试板SW2按键
13）查看RGB LED灯状态
    若RGB绿色LED灯点亮，表示Trimming成功，查看串口助手打印信息
    若RGB红色LED灯点亮，表示Trimming失败
14）观察示波器，查看波形频率为48±0.24MHz范围内，符合预期
15）按测试板NRST按键，复位开发板
16）重复步骤11）~15），观察LED灯状态和串口助手打印信息

================================================================================
注意
================================================================================
操作CTC前，需确保CTC为停止状态

================================================================================
